<!DOCTYPE html>
<html lang="en">
<meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
<head>
    <meta charset="UTF-8">
    <title>游泳课简介</title>
    <link rel="stylesheet" href="//at.alicdn.com/t/font_633931_zz1xjqeb83b.css">
    <style>
        *{
            padding: 0;
            margin: 0;
        }
        #date{
            width: 100%;
            height: 3rem;
            color: #999999;
            line-height: 3rem;
            background: #1A1A1d;
        }
        #today{
            font-size: 0.6em;
            margin-left: 5%;
            display: inline-block;
        }
        #tab{
            position: absolute;
            right: 1rem;
            display: inline-block;
        }
        #tab div{
            height: 2.3rem;
            border-bottom: 0.3rem solid #1A1A1d;
            display: inline-block;
        }
        #tab div:nth-child(1){
            color: yellow;
            border-bottom: 0.3rem solid yellow;
        }
        #train,#individual{
            width: 100%;
            position: absolute;
            min-height: 15rem;
        }
        #train{

        }
        #datelist{
            height: 3rem;
            color: #5e6149;
            line-height: 3rem;
            background: #1A1A1d;
        }
        #datelist span{
            width: 2rem;
            height: 2rem;
            text-align: center;
            line-height: 2.4rem;
            display: inline-block;
            margin-left: 3.1%;
        }
        #individual{
            display: none;
            background: aqua;
        }
    </style>
</head>
<body>
<!--日期显示-->
<div id="date">
    <div id="today">今天：</div>
    <div id="tab"><div onclick="train(this)">团 课</div>&nbsp&nbsp&nbsp<div onclick="individual(this)">私 教</div></div>
</div>
<!--tab切换div-->
<div id="train">
    <div id="datelist">

    </div>
</div>
<div id="individual">
    私教
</div>
</body>
<script>
    let today = new Date();
    let week = today.getDay();
    let month = today.getMonth() + 1;
    let day = today.getDate();
    let toDday = document.getElementById('today');
    let trainDom = document.getElementById('train');
    let individualDom = document.getElementById('individual');
    let datelist = document.getElementById('datelist');
    let touchStart = 0;


    toDday.innerHTML = "今天：" + month + "月" + day + "日" + " 星期" + toWeek(week);
    let currentDate = today;
    let num = 1;
    drawWeek(currentDate,num);

    trainDom.addEventListener("touchstart", function (e) {
        touchStart = e.changedTouches[0].pageX;
        console.log(touchStart)
    });
    trainDom.addEventListener("touchend", function (e) {
        console.log(e.changedTouches[0].pageX)
        if (e.changedTouches[0].pageX - touchStart < 0) {//右划
            num++;
            drawWeek(currentDate,num);
        }
    });
    //绘制星期
    function drawWeek(today,n){
        let str = "";
        for (let i = 0; i < 7;i++){
            if ((n-1) == i){
                str += "<span style='font-size: 0.4em;border: 0.2rem solid yellow;padding: 0.2rem;border-radius: 50%;'>" + "<i style='color: #ffffff;font-style: normal;'>"+ parseInt(new Date(today.getFullYear(),today.getMonth(),parseInt(today.getDate()+(n-1))).getMonth()+1) + "-" + new Date(today.getFullYear(),today.getMonth(),parseInt(today.getDate()+(n-1))).getDate() +"</i></span>";
            } else {
                str += "<span>" + toWeek((today.getDay() + i) % 7) + "</span>";
            }
        }
        str += '<span class=\"iconfont icon-rili\"></span>';
        datelist.innerHTML = str;
    }

    //切换为train
    function train(e) {
        e.style.color = "yellow";
        e.style.borderBottom = "0.3rem solid yellow";
        trainDom.style.display = "block";
        individualDom.style.display = "none";
        e.parentNode.childNodes[2].style.color = "#999999";
        e.parentNode.childNodes[2].style.borderBottom = "0.3rem solid #1A1A1d";
    }
    //切换为train
    function individual(e) {
        e.style.color = "yellow";
        e.style.borderBottom = "0.3rem solid yellow";
        trainDom.style.display = "none";
        individualDom.style.display = "block";
        e.parentNode.childNodes[0].style.color = "#999999";
        e.parentNode.childNodes[0].style.borderBottom = "0.3rem solid #1A1A1d";
    }
    //获取大写的星期数
    function toWeek(week) {
        switch (week) {
            case 0:
                return "日";
                break;
            case 1:
                return "一";
                break;
            case 2:
                return "二";
                break;
            case 3:
                return "三";
                break;
            case 4:
                return "四";
                break;
            case 5:
                return "五";
                break;
            case 6:
                return "六";
                break;
            case 7:
                return "日";
                break;
            default:
                return "非法日期";
        }
    }
</script>
</html>
